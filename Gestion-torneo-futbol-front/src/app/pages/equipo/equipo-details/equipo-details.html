<button (click)="goBack()" class="btn-volver">&larr; {{ 'botonVolver' | transloco }}</button>

<div class="detalle-container">

  <h2 class="titulo-torneo" data-aos="fade-down"
     data-aos-anchor-placement="top-center">{{equipo?.nombre}}</h2>
  
    <div data-aos="fade-right">
      <h3 class="section-title">{{ 'equipoDetalles.tituloDetalles' | transloco }}</h3>

      @if(equipo){
        <div class="details-card-wrapper"> 
          <div class="equipo-card card-foto">

            <img 
              [src]="equipo.escudo ? equipo.escudo : 'assets/icons/icono.png'" 
              [alt]="'Escudo de ' + equipo.nombre" 
              class="equipo-card-logo"
              (click)="abrirImagen(equipo?.escudo || 'assets/icons/icono.png')">

            <div class="equipo-card-info">
              <h4>{{ equipo.nombre }}</h4>
              <p><b>{{ 'equipoDetalles.etiquetaTorneo' | transloco }}</b> {{ getNombreTorneo(equipo.idTorneo) }}</p>
            </div>
          
          </div>
        </div>
      } 
    </div>


  <div data-aos="fade-left">
      <h3 class="section-title">{{ 'equipoDetalles.tituloDt' | transloco }}</h3>

      @if(dt){
        <div class="dt-card-wrapper">
          <div class="dt-card card-foto">
            <img 
              [src]="dt.foto ? dt.foto : 'assets/icons/persona.png'" 
              alt="Foto de {{dt?.nombre}}" 
              class="dt-foto "
              (click)="abrirImagen(dt?.foto || 'assets/icons/persona.png')">

            <div class="dt-info">
              <h4>{{ dt?.nombre }}</h4>
              <p><b>{{ 'equipoDetalles.etiquetaNacimiento' | transloco }}</b> {{ dt?.fechaNacimiento}}</p>
              <p><b>{{ 'equipoDetalles.etiquetaEstilo' | transloco }}</b> {{ dt?.estiloJuego}}</p>
              </div>
          </div>
        </div>
      }@else{
        <p class="empty-list">{{ 'equipoDetalles.DtEmpty' | transloco }}</p>
      }
  </div>





  <div data-aos="fade-right">
    <h2 class="section-title">{{ 'equipoDetalles.tituloJugadores' | transloco }}</h2>

    <div class="jugador-list-wrapper">
      <ul class="jugador-list">
        @for (jugador of filtrarJugadores; track jugador.id) {
          <li class="jugador-item card-foto-ul" [routerLink]="['/es/jugadores/', jugador.id]">

            <img 
              [src]="(jugador?.foto ? jugador.foto : 'assets/icons/persona.png')" 
              (click)="abrirImagen(jugador?.foto || 'assets/icons/persona.png'); $event.stopPropagation()"
              [alt]="'Foto de ' + jugador?.nombre" 
              class="jugador-foto"> 

            <span class="jugador-name">{{ jugador.nombre }}</span>
          </li>
        } @empty {
          <p class="empty-list">{{ 'equipoDetalles.jugadoresEmpty' | transloco }}</p>
        }
      </ul>
    </div>
  </div>






  <div data-aos="fade-left">
    <h2 class="section-title">{{ 'equipoDetalles.tituloFixture' | transloco }}</h2>

    <div class="fixture-list-wrapper">
      <ul class="fixture-list">
        @for (fixture of fixtures; track fixture.id) {
          <li class="fixture-item card-foto-ul" [routerLink]="['/es/fixture/', fixture.id]" 
          [queryParams]="{ equipoId: equipo?.id }">
            <img [src]="getEscudo(fixture.equipoLocalID)"
            (click)="abrirImagen(getEscudo(fixture.equipoLocalID) || 'assets/icons/icono.png'); $event.stopPropagation()"
                 [alt]="fixture.equipoLocalID">

            <div class="fixture-marcador">
              <span class="fixture-goles">{{ fixture.golesEquipo1 }}</span>
              <span class="fixture-estado">{{ fixture.estadoPartido }}</span>
              <span class="fixture-goles">{{ fixture.golesEquipo2 }}</span>
            </div>

            <img [src]="getEscudo(fixture.equipoVisitaID)"
            (click)="abrirImagen(getEscudo(fixture.equipoVisitaID) || 'assets/icons/icono.png'); $event.stopPropagation()" 
                 [alt]="fixture.equipoVisitaID">

          </li>
        } @empty {
          <p class="empty-list">{{ 'equipoDetalles.fixtureEmpty' | transloco }}</p>
        }
      </ul> 
    </div>
  </div>




</div>